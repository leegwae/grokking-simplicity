# 계층형 설계 - 추상화 벽, 작은 인터페이스, 편리한 계층

- abstraction barrier는 세부 구현을 감춘 함수로 이루어진 계층이다. 예) 우리가 사용하는 외부 라이브러리나 API. ChatGPT API 개발자는 API를 가져다쓰는 애플리케이션이 어떻게 구현될지는 몰라도 된다.
- minimal interface는 최대한 작게 추상화벽을 만드는 것이다. 새로운 기능을 만들 때 하위 계층보다 상위 계층에 만드는 것이다.
- comfortable layer: 큰 추상 계층을 만드는 것은 어려우니, 현재 코드 작업이 어렵지 않다면 계층이 섞이거나 반복문이 노출되는 건 그대로 두어도 된다. 그러나 code smell이 나면 다시 패턴을 적용해라.

## 비기능적 요구사항

1. 유지보수성: 요구사항이 바뀌었을 때 쉽게 고칠 수 있다. 하위 계층은 의존하고 있는 상위 계층이 많으므로 쉽게 바꾸기 어렵다. 잘 만든 하위 계층은 최대한 바뀌지 않아야한다. 상위 계층은 비지니스 요구에 따라 변화하기 쉬워야한다.
2. 테스트성: 테스트할 가치가 높다. 하위 계층에 의존하고 있는 상위 계층이 많으므로 하위 계층을 테스트했을 때의 이득이 더 크다.
3. 재사용성: 재사용하기 좋다. 의존하고 있는 하위 계층이 적을수록 재사용하기 좋다. 따라서 하위 계층으로 분리할수록 재사용하기 좋다.